Atomic variables
Atomic variables are often used to perform simple operations without using mutexes. For example, you need to increment a counter from multiple threads. Instead of wrapping int in std::mutex, it is more efficient to use std::atomic_int. C++ also offers the types std::atomic_char, std::atomic_bool and many others. Lock-free algorithms and data structures are also implemented on atomic variables. It is worth noting that they are very difficult to develop and debug, and not all systems work faster than similar algorithms and data structures with locks.
Note the use of the hardware_concurrency procedure. It returns an estimate of the number of trades that can be executed in parallel in the current system. For example, on a machine with a quad-core processor that supports hyper threading, the procedure returns the number 8. Also, the procedure may return zero if the evaluation failed or the procedure is simply not implemented.
